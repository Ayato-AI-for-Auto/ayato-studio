<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【解決事例】WindowsでGemini CLIが突然「コマンドが見つかりません」になった時の対処法 | Ayato AI Studio</title>
    <link rel="stylesheet" href="../index.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background: #0a0a0a;
            color: #f0f0f0;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            padding: 2rem 0;
            border-bottom: 1px solid #333;
            margin-bottom: 2rem;
        }

        .back-link {
            color: #00ffaa;
            text-decoration: none;
            font-size: 0.9rem;
        }

        h1 {
            font-size: 2.5rem;
            margin: 0.5rem 0;
            background: linear-gradient(to right, #ffffff, #888888);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .meta {
            color: #888;
            font-size: 0.9rem;
        }

        .content {
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .content h2 {
            margin-top: 2rem;
            color: #00ffaa;
        }

        .content h3 {
            margin-top: 1.5rem;
            color: #0066ff;
        }

        .content a {
            color: #00ffaa;
        }

        .content code {
            background: #222;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: monospace;
        }

        .content pre {
            background: #222;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
        }

        .content img {
            max-width: 100%;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .footer {
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid #333;
            text-align: center;
            color: #666;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <a href="../index.html" class="back-link">← Back to Portal</a>
            <h1>【解決事例】WindowsでGemini CLIが突然「コマンドが見つかりません」になった時の対処法</h1>
            <div class="meta">Published on "12/26/2025 13:01:48" by Ayato</div>
        </header>
        <div class="content">
            <h1>【解決事例】WindowsでGemini CLIが突然「コマンドが見つかりません」になった時の対処法</h1>
<p>最終更新日: 2024年11月11日 | カテゴリ: トラブルシューティング</p>
<p>これまで問題なく使えていたGoogleの「Gemini CLI」が、ある日突然動かなくなってしまいました。特に環境を変えた記憶もないのに、コマンドプロンプトが <code>gemini</code> という命令を一切受け付けない状態です。</p>
<p>結論から言うと、<strong>「自動更新の失敗によるPATH切れ」</strong>が原因であり、<code>npm</code> コマンドによる再インストールであっさり解決しました。同様の症状に陥った方のために、発生したエラーと解決までのログを残しておきます。</p>
<h2>トラブルの状況：突然の「コマンドが見つかりません」</h2>
<p>昨日まで普通に使えていたGemini CLIですが、今日ターミナル（コマンドプロンプト/PowerShell）を開いて実行しようとすると、以下のエラーが表示されるようになりました。</p>
<h3>発生したエラーメッセージ</h3>
<pre><code>&gt; gemini
gemini : 用語 'gemini' は、コマンドレット、関数、スクリプト ファイル、または操作可能なプログラムの名前として認識されません。
名前が正しく記述されていることを確認し、パスが含まれている場合はそのパスが正しいことを確認してから、再試行してください。
発生場所 行:1 文字:1
+ gemini
+ ~~~~~~
    + CategoryInfo          : ObjectNotFound: (gemini:String) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException
</code></pre>
<h3>考えられる原因</h3>
<p>Gemini CLIは、更新がある場合にデフォルトで自動更新が走る仕様になっています。どうやら、その更新処理がバックグラウンドで走っている最中に、私が誤ってCLIのウィンドウを閉じてしまった可能性が高いです。</p>
<p>更新プロセスが強制終了されたことで、インストール状態が中途半端になり、バグが残ってしまった（あるいは実行ファイルへのPATHが切れてしまった）のではないかと推測しました。</p>
<h2>試したこと（効果がなかったこと）</h2>
<p>トラブルシューティングとして、まずは基本的な確認を行いましたが、これらは効果がありませんでした。</p>
<ul>
<li><strong>PCの再起動：</strong> バックグラウンドで何らかのプロセスがゾンビ化している可能性を考え再起動しましたが、状況は改善しませんでした。これにより「待っていれば直る」系の不具合ではないことが確定しました。</li>
<li><strong>設定ファイルの削除：</strong> 設定ファイルが破損している可能性を疑い <code>~/.config/gemini</code> の削除を試みましたが、PowerShellではLinuxコマンドの <code>rm -rf</code> がそのまま通らず（エイリアス設定などをしていなかったため）、そもそもこれが原因の核心でもなさそうだったため中断しました。</li>
</ul>
<h2>解決策：npmによるグローバル再インストール</h2>
<p>「コマンドが見つからない＝PATHが通っていない、あるいは実行ファイルが消えた」という基本に立ち返り、Node.jsのパッケージ管理ツールである <code>npm</code> を使って、Gemini CLIを上書きインストールすることにしました。</p>
<p>以下のコマンドをコマンドプロンプト（またはPowerShell）で実行します。</p>
<pre><code>&gt; npm install -g @google/gemini-cli
</code></pre>
<p><code>-g</code>（グローバルオプション）を付けるのが最大のポイントです。これにより、PC上のどこからでもコマンドを呼び出せるようにPATHが再設定されます。</p>
<h3>実行結果</h3>
<pre><code>added 364 packages, and changed 192 packages in 4m

135 packages are looking for funding
  run `npm fund` for details
</code></pre>
<p>このコマンド実行後、再び gemini コマンドを叩いたところ、無事に起動するようになりました！</p>
<h2>考察：なぜこれで直ったのか</h2>
<p>今回のトラブルは、おそらく自動更新の中断によって、Windowsが「geminiコマンドの本体がどこにあるか」を見失ってしまった状態（PATHの設定が壊れた状態）にあったと考えられます。</p>
<p><code>npm install -g</code> コマンドは、単にファイルをダウンロードするだけでなく、<strong>「OSに対してコマンドの場所を登録する（PATHを通す）」</strong>という処理も同時に行ってくれます。</p>
<p>PC再起動でも直らなかったことから、自然回復する類のものではなく、明示的に「道しるべ」を作り直す必要があったわけです。同じエラーに出くわした方は、まずは再インストールを試してみてください。</p>
<h2>この記事を書いた人</h2>
<h3>あやと＠AI for All (<a href="http://blog.hatena.ne.jp/ai-economy-analysis/">id:ai-economy-analysis</a>)</h3>
<p>AIで情報分析・処理・生成を自動化し、未来を切り拓く。 ChatGPTが登場する以前から機械学習や深層学習などの情報工学を専攻し、AI活用とモデル構築の試行錯誤を重ねてきました。このブログは、AIによる情報自動化に特化した、私の<strong>「生きるポートフォリオ」</strong>です。</p>
<p>AIの可能性を信じる仲間と繋がりたいです。ご相談やご依頼も、お気軽にご連絡ください。</p>
<p>[<img alt="" src="https://cdn.image.st-hatena.com/image/square/6ac730fede072690413662b27803f99cfe8cf9c0/backend=imagemagick;height=80;version=1;width=80/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fcircle_image%2F122608905%2F1514353056384430" /></p>
<p>ランキング参加中</p>
<p>人工知能](https://blog.hatena.ne.jp/-/group/10328749687175353006/redirect)</p>
<p>[<img alt="" src="https://cdn.image.st-hatena.com/image/square/adad63b72f1d6545b2ba2538c3fc2923b2fd5989/backend=imagemagick;height=80;version=1;width=80/https%3A%2F%2Fcdn.blog.st-hatena.com%2Fimages%2Fcircle%2Fofficial-circle-icon%2Fcomputers.gif" /></p>
<p>ランキング参加中</p>
<p>プログラミング](https://blog.hatena.ne.jp/-/group/11696248318754550880/redirect)</p>
<p>[<img alt="" src="https://cdn.image.st-hatena.com/image/square/923c61f1fa380959d1afc414cfe38b14cc5f9c65/backend=imagemagick;height=80;version=1;width=80/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fcircle_image%2F62150696%2F1734941854288688" /></p>
<p>ランキング参加中</p>
<p>【公式】2025年開設ブログ](https://blog.hatena.ne.jp/-/group/6802418398313943584/redirect)</p>
        </div>
        <div class="footer">
            <p>&copy; 2026 Ayato AI Studio. Generated by AI Agent.</p>
        </div>
    </div>
</body>

</html>